name = "ridi-apps-api"
main = "src/index.ts"
compatibility_date = "2025-01-29"
compatibility_flags = ["nodejs_compat"]
upload_source_maps = true

[observability]
enabled = true

# Environment Variables
# https://developers.cloudflare.com/workers/wrangler/configuration/#environment-variables
[vars]
SUPABASE_URL = "https://sb.ridi.bike"
RIDI_APP_URL = "https://app.ridi.bike"
RIDI_LANDING_URL = "https://ridi.bike"
SENTRY_DSN = "https://57ef996c2cdb0754386a7cfa02783c4f@o337283.ingest.us.sentry.io/4509016159420416"
RIDI_ENV = "prod"
STRIPE_PRICE_ID_MONTLY = "price_1R3NmnDgjvIEDQY4z7U8tBji"
STRIPE_PRICE_ID_YEARLY = "price_1RRaGODgjvIEDQY4tK22ZFjJ"
RESEND_AUD_GENERAL_ID = "226e0e44-d07c-416d-9abb-0d88110ef628"

# Note: Use secrets to store sensitive data.
# https://developers.cloudflare.com/workers/configuration/secrets/

# Static Assets
# https://developers.cloudflare.com/workers/static-assets/binding/
# [assets]
# directory = "./public/"
# binding = "ASSETS"

# Service Bindings (communicate between multiple Workers)
# https://developers.cloudflare.com/workers/wrangler/configuration/#service-bindings
# [[services]]
# binding = "MY_SERVICE"
# service = "my-service"
[[durable_objects.bindings]]
name = "TinyBaseDurableObjects"
class_name = "TinyBaseDurableObject"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["TinyBaseDurableObject"]
